<app-navigation></app-navigation>
<br>

<div>
  <h4 class="my-0 mr-md-auto font-weight-normal">Open Positions List</h4>
  <br />
</div>


<div class="mat-elevation-z8">
  <table mat-table [dataSource]="dataSource" matSort class="mat-elevation-z8">

    <!-- ID Column -->
    <ng-container matColumnDef="Action">
      <th mat-header-cell *matHeaderCellDef> Select </th>
      <td mat-cell *matCellDef="let row"> <mat-radio-button name="jrssSelected"  (change)="jrssSelected=row.JRSS; positionID=row._id"></mat-radio-button>
      </td>
    </ng-container>
    <!-- ID Column -->
    <ng-container matColumnDef="positionName">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Open Position </th>
      <td mat-cell *matCellDef="let row"> {{row.positionName}} </td>
    </ng-container>

    <!-- Progress Column -->
    <ng-container matColumnDef="positionID">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Position ID </th>
      <td mat-cell *matCellDef="let row"> {{row.positionID}}</td>
    </ng-container>

    <!-- Name Column -->
    <ng-container matColumnDef="JRSS">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Job Role </th>
      <td mat-cell *matCellDef="let row"> {{row.JRSS}} </td>
    </ng-container>

    <!-- Color Column -->
    <ng-container matColumnDef="lineOfBusiness">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Line Of Business </th>
      <td mat-cell *matCellDef="let row" [style.color]="row.color"> {{row.lineOfBusiness}} </td>
    </ng-container>

    <!-- Color Column -->
    <ng-container matColumnDef="positionLocation">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Position Location </th>
      <td mat-cell *matCellDef="let row" [style.color]="row.color"> {{row.positionLocation}} </td>
    </ng-container>

    <!-- Color Column -->
    <ng-container matColumnDef="rateCardJobRole">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Rate Card Job Role </th>
      <td mat-cell *matCellDef="let row" [style.color]="row.color"> {{row.rateCardJobRole}} </td>
    </ng-container>

    <!-- Color Column -->
    <ng-container matColumnDef="competencyLevel">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Competency Level </th>
      <td mat-cell *matCellDef="let row" [style.color]="row.color"> {{row.competencyLevel}} </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; let even = even; columns: displayedColumns;" [ngClass]="{gray: even}"></tr>
  </table>
  <table>
    <tr *ngIf="!dataSource.data.length">
      <td style="text-align: center;" [attr.colspan]="displayedColumns.length">
        No Records Found!
      </td>
    </tr>
  </table>
  <mat-paginator [length]="this.openPositionsList.length" [pageSize]="5" [pageSizeOptions]="[5,10,15,25,50,100]" showFirstLastButtons></mat-paginator>
</div>
<br/>
<div  class="float-right text-right" *ngIf="openPositionsList.length > 0">
   <span>
        <button mat-raised-button color="primary" (click)="redirectToFindCandidates()">Find Candidate</button>&nbsp;
    </span>
</div>

